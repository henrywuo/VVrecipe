<!-- index.ejs -->
<html>

<head>
    <% include ./partials/header.ejs %>
    <link rel='stylesheet' type="text/css" href='/css/home.css'>
    <script type="text/javascript" src="/js/home.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
    <% include ./partials/navbar.ejs %>

    <div class='home-container'>
        <h2 class="titles">This Weeks Top Recipe</h2>
        <div class="home-image"></div>

        <div class="row"
            style="background:url(https://foodrevolution.org/wp-content/uploads/2018/09/blog-featured-rawvscooked-20180905.jpg)">

            <div class="column">
                <img src="https://www.godairyfree.org/wp-content/uploads/2012/09/peruvianavocados.jpg" alt="Food"
                    class="image" >
                <div class="middle">
                    <div class="text">
                        <h1>Stuffed Avocado <h4>FOR: Vegans, Vegetarians</h4>
                            <h4>Ratings:
                                <span class="fa fa-star checked"></span>
                                <span class="fa fa-star checked"></span>
                                <span class="fa fa-star checked"></span>
                                <span class="fa fa-star checked"></span>
                                <span class="fa fa-star checked"></span>
                            </h4>
                        </h1>
                        <h2>Ingredients</h2>
                        <p>advocado <br> more avocado <br> eggs <br> quinoa <br> tomatoes <br>
                            onions <br> cilantro <br> olive oil
                        </p>
                    </div>
                </div>
            </div>



            <div class="column">
                <img src="https://www.rachelcooks.com/wp-content/uploads/2018/01/shrimp-tacos-avocado-mango-salsa-web-5-of-12-600x550.jpg"
                    alt="Food" class="image" >
                <div class="middle">
                    <div class="text">
                        <h1>Shrimp Avocado Tacos <h4>FOR: Vegetarians</h4>
                            <h4>Ratings:
                                <span class="fa fa-star checked"></span>
                                <span class="fa fa-star checked"></span>
                                <span class="fa fa-star checked"></span>
                                <span class="fa fa-star checked"></span>
                                <span class="fa fa-star"></span>
                            </h4>
                        </h1>
                        <h2>Ingredients</h2>
                        <p>advocados <br>shrimp <br> pineapple <br>
                            onions <br> cilantro <br> olive oil
                        </p>
                    </div>
                </div>
            </div>

            <div class="column">
                <img src="https://ik2oa1wlcj46xaafvt85daad-wpengine.netdna-ssl.com/wp-content/uploads/2019/01/Waldorf-Salad-600x550.png"
                    alt="Food" class="image" >
                <div class="middle">
                    <div class="text">
                        <h1>Mysterious Vegan Salad <h4>FOR: Vegans, Vegetarians</h4>
                            <h4>Ratings:
                                <span class="fa fa-star checked"></span>
                                <span class="fa fa-star checked"></span>
                                <span class="fa fa-star checked"></span>
                                <span class="fa fa-star"></span>
                                <span class="fa fa-star"></span>
                            </h4>
                        </h1>
                        <h2>Ingredients</h2>
                        <p>advocado <br>pepper <br> apple <br>
                            lettuce <br> walnut <br> soy cheese <br> vinaigrette
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <a href="#" class="previous round">&#8249;</a>
        <a href="#" class="next round">&#8250;</a>

        <div class='search-recipe'>
            <input id="search-box" type="text" size="20" />
            <img id='search-box-img' src="" />
            <button id="recipe-button">Search Food</button>
            <div id='food-title'></div>
        </div>

        <div id='home-padding'></div>

        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal"
            data-whatever="@mdo">Upload Recipe</button>
        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
            aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Create a Recipe</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <form action='/upload' enctype="multipart/form-data" method="POST">
                            <div class="form-group">
                                <label for="name-text" class="col-form-label">Name</label>
                                <input type="text" name="name" class="form-control" id="name-text"></input>
                            </div>
                            <div class="form-group">
                                <input type="file" name="file" id="file">
                            </div>
                            <div class="form-group">
                                <label for="message-text" class="col-form-label">Message</label>
                                <textarea name="message" class="form-control" id="message-text"></textarea>
                            </div>
                            <div class="form-group">
                                    <label for="recipient-name" class="col-form-label">Ingredients</label>
                                    <input name="ingredients" type="text" class="form-control" id="recipient-name">
                            </div>
                            <div class="form-group" id="recipe-form">
                                <label for="recipe-text" class="col-form-label">Recipe Steps</label>
                                <div id="instructions">
                                    <input type="text" name="instructions[]">
                                </div>
                                <button class='btn btn-success add-recipe-button' type='button'><b>+</b></button>
                                <button class='btn btn-danger delete-recipe-button' type='button'><b>-</b></button>
                            </div>
                            <div class="form-group">
                                <label for="recipient-name" class="col-form-label">Tags</label>
                                <input name="tags" type="text" class="form-control" id="recipient-name">
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                <button type="submit" class="recipe-post-button btn btn-primary">Post</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div class='all-posts'>
            <% posts.reverse().forEach(p => { %>
            <div class='post-container'>
                <div class='post'>
                    <div class='post-left'>
                        <div class='image-container'>
                            <img class='post-image' src="/image/<%=p.image.data%>" id='recipe-pic'/>
                        </div>
                    </div>
                    <div class='post-right'>
                        <img class='post-user-pic' src='/pics/user.png'>
                        <h3 class=post-name><%= p.name %></h3>
                        <div class='post-body'>
                            <p><%= p.body %></p>
                        </div>
                        <div class='post-buttons'>
                            <div class='post-button-entry'>
                                    <a class='post-like'>&#9825;</a>
                            </div>
                            <div class='post-button-entry'>
                                <a>Share</a>
                            </div>
                            <div class='post-button-entry'>
                                    <a>Save</a>
                            </div>
                    </div>
                    <hr>
                        <div class='post-comments'>
                            <% if (p.comments.length === 0) { %>
                                <p style='text-align: center; color: rgb(88, 88, 88)'>No comments.</p>
                            <% } %>
                            <% p.comments.forEach( (comment) => { %>
                                <div class='comment-single'>
                                    <img class='comment-user-pic' src='/pics/user.png'/>
                                    <a class='comment-body'><%=comment.body%></a>
                                </div>
                            <%}); %>
                        </div>
                        <div class='comment-form'>
                            <form action="/<%= p._id%>/comment" method="POST">
                                <textarea class="post-comment" id="comment" name="comment" type="text" placeholder="Enter a comment"></textarea>
                                <button class="comment-button">Reply</button>
                            </form>
                        </div>
                  </div>
            </div>
        </div>
        <% }); %>
    </div>



        <% include ./partials/footer.ejs %>
    </div>
</body>

</html>