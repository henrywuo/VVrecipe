<!-- Makes the homepage. 
    The homepage contains picture of all the recent uploaded recipe in a grid format.
    In each grid is a picture of the recipe uploaded, and if you click on each grid,
    a card modal will pop up containing description of the recipe. -->
<html>

<head>
    <% include ./partials/header.ejs %>
    <link rel='stylesheet' type="text/css" href='/css/home.css'>
    <script type="text/javascript" src="/js/home.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
</head>

<body>
    <div class='home-container'>
            <% include ./partials/navbar.ejs %>
            <% include ./partials/upload.ejs %>
        
        
            <div class="grid">
                <% let i = 0; %>
                <% posts.reverse().forEach(p => { %>
                    <div class='show-single-recipe<%=i%> recipe-hover recipe-hidden'>
                        <% include ./partials/recipe-partial.ejs %>
                    </div>
                    <div class="foodcontent">
                        <img src="/image/<%=p.image.data%>" alt="Avatar" class="image" />
                        <div class="middle" onclick="show(<%=i%>);">
                            <div class='middle-content'>
                                <h4><%= p.name %></h4>
                                <%= p.body %>
                            </div>
                        </div>
                    </div>
                    <% i++; %>
                <% }); %>
            </div>
        

        <div id='home-padding'></div>

        <% include ./partials/footer.ejs %>
    </div>
</body>

</html>